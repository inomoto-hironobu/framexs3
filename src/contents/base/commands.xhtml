<?xml version="1.0"?>
<?xml-stylesheet type="application/xml" href="../../framexs.xsl"?>
<?framexs.skeleton ../../template.ftml?>
<?framexs.properties ../../properties/single.xml?>
<html xmlns="http://www.w3.org/1999/xhtml" lang="ja">
<head>
<meta charset="UTF-8"/>
<title>framexs.commands</title>
<meta name="description" content="framexs.commandsについて解説する"/>
<meta name="modified" content="2022-07-21"/>
</head>
<body id="main">
<article>
<section>
<p>Framexsではコンテンツから命令を受け取ることで様々な機能を実装します。<br/>
framexs.がついた処理命令という形で行います。</p>
<ul>
<li>skeleton</li>
<li>resource</li>
<li>properites</li>
<li>commands</li>
</ul>
</section>
<section>
<p>Framexsにはプロパティ―機能というものがあり、ページに共通する名前付きの値を定義できます。<br/>
framexs.propertiesでは定義をまとめたファイル、プロパティーファイルを指定します。</p>
<pre><![CDATA[<?framexs.properties ../../properties/single.xml?>]]></pre>
<p>プロパティーファイルは次のようになっています。</p>
<pre><![CDATA[<?xml version="1.0"?>
<framexs:properties xmlns:framexs="urn:framexs">
<framexs:base href="base.xml"/>
<framexs:property name="pagetype">article</framexs:property>
<framexs:property name="sidebar">display</framexs:property>
</framexs:properties>]]></pre>
<p>ここにあるframexs.baseによってさらにプロパティーファイル共通の値を収めたファイルを指定できます。<br/>
共通プロパティーファイルは次のようになっています。</p>
<pre><![CDATA[<?xml version="1.0"?>
<framexs:properties xmlns:framexs="urn:framexs" xmlns="http://www.w3.org/1999/xhtml">
<framexs:property name="site-name">八百幡（やおはた）</framexs:property>
<framexs:property name="google-tag-manager-code">GTM-5L2SQ9B</framexs:property>
<framexs:property name="nav">
<li title="基礎">/contents/base/index.xhtml</li>
<li title="入門">/contents/introduction/index.xhtml</li>
<li title="応用">/contents/application/index.xhtml</li>
<li title="コマンド">/contents/command/index.xhtml</li>
<li title="API">/contents/api/index.xhtml</li>
<li title="オピニオン">/contents/article/index.xhtml</li>
<li title="その他">/contents/other/index.xhtml</li>
</framexs:property>
</framexs:properties>]]></pre>
<p>プロパティには文字列のほかに、HTML要素を値にすることができます。</p>
</section>
<section>
<p>framexs.commandsコマンドは、コンテンツファイルのFramexsコマンドを一括して管理するためのものです。<br/>
次のようなコードです。</p>
<div class="code-container">
<pre><code class="language xml"><![CDATA[
<?framexs.skeleton ../template..ftml?>
]]></code></pre>
</div>
<p>コマンドファイルという、コマンドを定義するファイルの場所を指定しています。<br/>
コマンドファイルは次のようになっています。</p>
<pre><code class="language xml"><![CDATA[
<?xml version="1.0"?>
<commands xmlns="urn:framexs">
<skeleton>/yaohata/main.ftml</skeleton>
<resource>sidebar /parts/sidebar.xml</resource>
</commands>
]]></code></pre>
<p>この利点を説明します。<br/>
例えばコンテンツファイルに次のようなコマンドがあったとします。</p>
<pre><![CDATA[
<?framexs.skeleton ../../yaohata/main.ftml?>
<?framexs.resource sidebar ../../parts/sidebar.xml?>
<?framexs.properties ../../properties/single.xml?>
]]></pre>
<p>このコードでは、テーマを切り替えたいときには、すべてのコンテンツファイルのコマンドを変えなくてはいけません。<br/>
またリソースファイルの指定のような、共通するコードを全てのコンテンツに入れるのは、負担が大きく、ファイル名の変更も困難です。<br/>
こういった手間を大幅に軽減する役割があります。</p>
</section>
</article>
</body>
</html>
