<?xml version="1.0"?>
<?xml-stylesheet type="application/xml" href="../../framexs.xsl"?>
<?framexs.skeleton ../../template.ftml?>
<?framexs.properties ../../properties/single.xml?>
<html xmlns="http://www.w3.org/1999/xhtml" lang="ja">
<head>
<meta charset="UTF-8"/>
<title>Framexsとは</title>
<meta name="description" content="XSLTフレームワークのFramexsとは何かを解説する。"/>
<meta name="modified" content="2021-09-17"/>
</head>
<body>
<ol id="breadcrumb">
<li class="breadcrumb-item"><a href="/">Home</a></li>
<li class="breadcrumb-item"><a href="/contents/base/index.xhtml">Framexsの基礎</a></li>
</ol>
<main id="main">
<article>
<section class="premain">
<p>Framexsは、XHTMLをMVC（<b>モデル・ビュー・コントローラ</b>）の材料として、合成を行い、HTMLを生成するXSLTフレームワークです。<br/>
モデルとビューの両方ともXHTMLを使い、ウェブサイトではコントローラーもXHTMLに処理命令という形で埋めこんでいます。
<br />このフレームワークは、フロントエンドXSLT技術であるxml-stylesheet処理命令を利用しています。</p>
<div class="code-container">
<pre><code class="language xml"><![CDATA[<?xml-stylesheet type="application/xml" href="../../framexs/framexs.xsl"?>]]></code></pre>
</div>
</section>
<section>
<h2>サンプルコード</h2>
<p>Framexsのサンプルコードを見てみましょう。
<br />以下の図は、Framexsの代表的なディレクトリ構成です。今回は、この構成でのFramexsのはたらきについて取り上げていきます。</p>

<ul class="branch_F">
<li class="branch_T">/framexs.xsl</li>
<li class="branch_L"><span class="branch_SF"></span>/sample</li><ul>
<li class="branch_L"><span class="branch_SF"></span>/1</li>
<ul><li class="branch_T">/main.ftml</li>
                      <li class="branch_L">/contents.xhtml</li></ul></ul>
</ul>
<div class="code-container">
<div class="caption">main.xhtml</div>
<pre><code class="language xml"><![CDATA[<?xml version="1.0" encoding="UTF-8"?>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:framexs="urn:framexs" xml:lang="ja" lang="ja">
<head>
<title> - テンプレートタイトル</title>
</head>
<body>
<h1>あいさつ</h1>
<article>
<!-- コンテンツのid属性がmainの部分を読み込み置き換える -->
<framexs:id name="main"/>
</article>
</body>
</html>]]></code></pre>
</div>
<div class="code-container">
<div class="caption">content.xhtml</div>
<pre><code class="language xml"><![CDATA[<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet type="application/xml" href="../../framexs/framexs.xsl"?>
<?framexs.skeleton main.ftml?>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>世界よこんにちは</title>
</head>
<body>
<div id="main">
<p>ハローワールド！</p>
</div>
</body>
</html>]]></code></pre>
</div>
<p><b>main.ftml</b>はビュー、<b>content.xhtml</b>はモデル・コントローラーとして機能します。</p>
<p><kbd>contents.xhtml</kbd>をブラウザで表示すると、以下のようになります。<br/><a href="/sample/1/contents.xhtml" target="_blank" rel="noopener noreferrer" onclick="window.open('/sample/1/contents.xhtml', '', 'width=600,height=300'); return false;"><span class="out_link"></span> 実行結果を表示する（contents.xhtml）</a></p>
<div class="code-container">
<div class="captioon">実際の<b>contents.xhtml</b>のソースコード</div>
<pre><code class="language xml"><![CDATA[<!DOCTYPE html SYSTEM "about:legacy-compat">
<html xml:lang="ja" lang="ja">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>世界よこんにちは - テンプレートタイトル</title>
</head>
<body>
<h1>あいさつ</h1>
<article>
<p>ハローワールド！</p>
</article>
</body>
</html>]]></code></pre>
</div>
<p>このように、元々のcontents.xhtmlからソースコードが変化していることが分かります。<i>tempalte.xhtml</i>によって定義したテンプレートに従い、Fremexsがコードを書き換えているのです。</p>
</section>
<section>
<h2>このサイトもFramexsでできています</h2>
<p>このページ自身もFramexsで作成されており、その先頭部分は以下の通りである。</p>
<div class="code-container">
<div class="captioon">コード7</div>
<pre><code class="language xml"><![CDATA[<?xml-stylesheet type="application/xml" href="../../framexs/framexs.xsl"?>
<?framexs.skeleton ../template..ftml?>]]></code></pre>
</div>
</section>
</article>
</main>
</body>
</html>
